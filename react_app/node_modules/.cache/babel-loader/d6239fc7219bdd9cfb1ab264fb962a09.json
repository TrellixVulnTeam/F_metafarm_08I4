{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\klodv\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\react-p\\\\ReactDRF\\\\react_app\\\\src\\\\pages\\\\ImageList.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ImageList() {\n  _s();\n\n  const [imgList, setImgListData] = useState([{\n    id: null,\n    image: null,\n    title: null\n  }]); // useEffect(async() => { //uesEffect 에서 async로 axios 사용 시 error 발생\n\n  useEffect(() => {\n    async function fetchData() {\n      console.log('Img List ON screen');\n\n      try {\n        const res = await axios.get('http://127.0.0.1:8000/image');\n        console.log(res.data['results']);\n\n        const _imgList = await res.data['results'].map(rowData => ({\n          id: rowData.id,\n          title: rowData.title,\n          image: rowData.image\n        })); // setImgListData(..._imgList);\n\n\n        setImgListData(imgList.concat(_imgList));\n      } catch (e) {\n        console.error(e.message);\n      }\n    }\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          console.log(imgList);\n        },\n        children: \"Get\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Image List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), imgList.filter(data => data.id !== null).map(data => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"imageList\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: data.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: data.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: data.image,\n            width: \"600\",\n            height: \"400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)]\n        }, data.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(ImageList, \"O0KtwlYs9U8mPvS1BS7XZJArcIY=\");\n\n_c = ImageList;\nexport default ImageList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageList\");","map":{"version":3,"names":["axios","React","useState","useEffect","ImageList","imgList","setImgListData","id","image","title","fetchData","console","log","res","get","data","_imgList","map","rowData","concat","e","error","message","filter"],"sources":["C:/Users/klodv/OneDrive/바탕 화면/react-p/ReactDRF/react_app/src/pages/ImageList.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nfunction ImageList() {\r\n    const [imgList, setImgListData] = useState([{\r\n        id: null,\r\n        image: null,\r\n        title: null,\r\n    }])\r\n    \r\n    // useEffect(async() => { //uesEffect 에서 async로 axios 사용 시 error 발생\r\n    useEffect(() => {\r\n        async function fetchData(){\r\n            console.log('Img List ON screen');\r\n            try{\r\n                const res = await axios.get('http://127.0.0.1:8000/image')\r\n                console.log(res.data['results'])\r\n                const _imgList = await res.data['results'].map((rowData) => ({\r\n                    id: rowData.id,\r\n                    title: rowData.title,\r\n                    image: rowData.image\r\n                    })\r\n                )\r\n                // setImgListData(..._imgList);\r\n                setImgListData(imgList.concat(_imgList));\r\n            } catch(e){\r\n                console.error(e.message)\r\n            }\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n  return (\r\n    <>\r\n        <div className='list'>\r\n            <button onClick={()=>{console.log(imgList)}}>Get</button>\r\n            <h1>Image List</h1>\r\n            {imgList.filter(data => data.id !== null).map((data)=>{\r\n                return (\r\n                    <div className='imageList' key={data.id}>\r\n                        <h3>{data.id}</h3>\r\n                        <h3>{data.title}</h3>\r\n                        <img src={data.image} width='600' height='400'/>\r\n                        <hr/>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ImageList"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;AAEA,SAASC,SAAT,GAAqB;EAAA;;EACjB,MAAM,CAACC,OAAD,EAAUC,cAAV,IAA4BJ,QAAQ,CAAC,CAAC;IACxCK,EAAE,EAAE,IADoC;IAExCC,KAAK,EAAE,IAFiC;IAGxCC,KAAK,EAAE;EAHiC,CAAD,CAAD,CAA1C,CADiB,CAOjB;;EACAN,SAAS,CAAC,MAAM;IACZ,eAAeO,SAAf,GAA0B;MACtBC,OAAO,CAACC,GAAR,CAAY,oBAAZ;;MACA,IAAG;QACC,MAAMC,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAU,6BAAV,CAAlB;QACAH,OAAO,CAACC,GAAR,CAAYC,GAAG,CAACE,IAAJ,CAAS,SAAT,CAAZ;;QACA,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACE,IAAJ,CAAS,SAAT,EAAoBE,GAApB,CAAyBC,OAAD,KAAc;UACzDX,EAAE,EAAEW,OAAO,CAACX,EAD6C;UAEzDE,KAAK,EAAES,OAAO,CAACT,KAF0C;UAGzDD,KAAK,EAAEU,OAAO,CAACV;QAH0C,CAAd,CAAxB,CAAvB,CAHD,CASC;;;QACAF,cAAc,CAACD,OAAO,CAACc,MAAR,CAAeH,QAAf,CAAD,CAAd;MACH,CAXD,CAWE,OAAMI,CAAN,EAAQ;QACNT,OAAO,CAACU,KAAR,CAAcD,CAAC,CAACE,OAAhB;MACH;IACJ;;IACDZ,SAAS;EACZ,CAnBQ,EAmBN,EAnBM,CAAT;EAqBF,oBACE;IAAA,uBACI;MAAK,SAAS,EAAC,MAAf;MAAA,wBACI;QAAQ,OAAO,EAAE,MAAI;UAACC,OAAO,CAACC,GAAR,CAAYP,OAAZ;QAAqB,CAA3C;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,EAGKA,OAAO,CAACkB,MAAR,CAAeR,IAAI,IAAIA,IAAI,CAACR,EAAL,KAAY,IAAnC,EAAyCU,GAAzC,CAA8CF,IAAD,IAAQ;QAClD,oBACI;UAAK,SAAS,EAAC,WAAf;UAAA,wBACI;YAAA,UAAKA,IAAI,CAACR;UAAV;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAA,UAAKQ,IAAI,CAACN;UAAV;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YAAK,GAAG,EAAEM,IAAI,CAACP,KAAf;YAAsB,KAAK,EAAC,KAA5B;YAAkC,MAAM,EAAC;UAAzC;YAAA;YAAA;YAAA;UAAA,QAHJ,eAII;YAAA;YAAA;YAAA;UAAA,QAJJ;QAAA,GAAgCO,IAAI,CAACR,EAArC;UAAA;UAAA;UAAA;QAAA,QADJ;MAQH,CATA,CAHL;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ,iBADF;AAkBD;;GA/CQH,S;;KAAAA,S;AAiDT,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}